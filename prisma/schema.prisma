datasource db {
  provider = "postgresql"
  url      = env("POSTGRES_DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

model User {
  id           String   @id @default(uuid())

  deviceId     Int      @unique            // Pushsafer ID
  name         String                      // stores the users first name
  language     String   @default("en")     // users language: en, es or ca
  metric       String   @default("level")  // level or flowrate 
  value        Decimal  @db.Decimal(5,2)   // the alert value
  role         String   @default("user")   // user | dev

  lastWarnedAt DateTime?                   // 3-h cooldown

  createdAt    DateTime @default(now())
  updatedAt    DateTime @updatedAt
}
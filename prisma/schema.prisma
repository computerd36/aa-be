datasource db {
  provider = "postgresql"
  url      = env("POSTGRES_DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

model User {
  id           String   @id @default(uuid())

  deviceId     Int      @unique            // Pushsafer ID
  name         String
  language     String   @default("en")
  metric       String   @default("level")
  value       Float
  role         String   @default("user")   // user | dev

  lastWarnedAt DateTime?                   // 3-h cooldown
  mutedUntil   DateTime?                   // null = not muted

  createdAt    DateTime @default(now())
  updatedAt    DateTime @updatedAt
}